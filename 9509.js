"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9509],{1548:(ee,x,c)=>{c.d(x,{r:()=>Z});var m=c(15861),n=c(94650),d=c(6297),u=c(15439),E=c(76129),y=c(13190),w=c(90542),R=c(25026),B=c(63285),D=c(38629),N=c(36895),V=c(18779),j=c(48337),F=c(4684),A=c(72366),P=c(78535),U=c(73750);function z(l,g){if(1&l&&n.\u0275\u0275element(0,"img",12),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("src",o.pathUrl+o.booking.club.mainPhoto.contentUrl,n.\u0275\u0275sanitizeUrl)}}function L(l,g){if(1&l&&n.\u0275\u0275element(0,"img",12),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("src",o.pathUrl+o.booking.timetableBlockPrice.mainPhoto.contentUrl,n.\u0275\u0275sanitizeUrl)}}function b(l,g){if(1&l&&n.\u0275\u0275element(0,"img",12),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("src",o.pathUrl+o.booking.playgrounds[0].mainPhoto.contentUrl,n.\u0275\u0275sanitizeUrl)}}function v(l,g){if(1&l&&n.\u0275\u0275element(0,"img",12),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("src",o.pathUrl+o.booking.club.mainPhoto.contentUrl,n.\u0275\u0275sanitizeUrl)}}function M(l,g){if(1&l&&n.\u0275\u0275element(0,"img",12),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275property("src",o.pathUrl+o.booking.club.mainPhoto.contentUrl,n.\u0275\u0275sanitizeUrl)}}function $(l,g){1&l&&n.\u0275\u0275element(0,"img",12),2&l&&n.\u0275\u0275property("src","assets/images/banner_default.png",n.\u0275\u0275sanitizeUrl)}function Y(l,g){1&l&&n.\u0275\u0275element(0,"img",12),2&l&&n.\u0275\u0275property("src","assets/images/banner_default.png",n.\u0275\u0275sanitizeUrl)}function h(l,g){1&l&&(n.\u0275\u0275elementStart(0,"button",13),n.\u0275\u0275namespaceSVG(),n.\u0275\u0275elementStart(1,"svg",14),n.\u0275\u0275element(2,"path",15),n.\u0275\u0275elementEnd()())}function I(l,g){1&l&&(n.\u0275\u0275elementStart(0,"button",16),n.\u0275\u0275element(1,"ion-icon",17),n.\u0275\u0275elementEnd())}function k(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",18),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"truncate"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind2(2,1,o.env.useMb?o.booking.playgrounds[0].name:null==o.booking||null==o.booking.club?null:o.booking.club.name,12))}}function K(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",18),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"truncate"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind2(2,1,o.env.useMb?o.booking.timetableBlockPrice.label:null==o.booking||null==o.booking.club?null:o.booking.club.name,12))}}function O(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",18),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"truncate"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind2(2,1,o.env.useMb?o.booking.timetableBlockPrice.label:null==o.booking||null==o.booking.club?null:o.booking.club.name,12))}}function T(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",18),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"truncate"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,1,null==o.booking?null:o.booking.name,12)," ")}}function W(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",19),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"price_format"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2(" ",o.getDuration()," min - ",n.\u0275\u0275pipeBind2(2,2,o.booking.pricePerParticipant,o.booking.club.currency)," / pers ")}}function H(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",19),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"price_format"),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2(" ",o.getDuration()," min - ",n.\u0275\u0275pipeBind2(2,2,o.booking.price,o.booking.club.currency)," ")}}function S(l,g){if(1&l&&(n.\u0275\u0275elementStart(0,"div",19),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&l){const o=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",o.getDuration()," min ")}}function G(l,g){if(1&l){const o=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",1),n.\u0275\u0275listener("click",function(){n.\u0275\u0275restoreView(o);const C=n.\u0275\u0275nextContext();return n.\u0275\u0275resetView(C.openBooking())}),n.\u0275\u0275elementStart(1,"div",2),n.\u0275\u0275template(2,z,1,1,"img",3),n.\u0275\u0275template(3,L,1,1,"img",3),n.\u0275\u0275template(4,b,1,1,"img",3),n.\u0275\u0275template(5,v,1,1,"img",3),n.\u0275\u0275template(6,M,1,1,"img",3),n.\u0275\u0275template(7,$,1,1,"img",3),n.\u0275\u0275template(8,Y,1,1,"img",3),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(9,"app-activity-levels",4),n.\u0275\u0275elementStart(10,"div",5)(11,"div",6),n.\u0275\u0275template(12,h,3,0,"button",7),n.\u0275\u0275template(13,I,2,0,"button",8),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(14,k,3,4,"div",9),n.\u0275\u0275template(15,K,3,4,"div",9),n.\u0275\u0275template(16,O,3,4,"div",9),n.\u0275\u0275template(17,T,3,4,"div",9),n.\u0275\u0275elementStart(18,"div",10)(19,"span"),n.\u0275\u0275text(20),n.\u0275\u0275pipe(21,"moment"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(22,W,3,5,"div",11),n.\u0275\u0275template(23,H,3,5,"div",11),n.\u0275\u0275template(24,S,2,1,"div",11),n.\u0275\u0275elementEnd()()}if(2&l){const o=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",o.booking.club.mainPhoto&&"leisure"!==o.booking.activityType&&"formula"!==o.booking.activityType&&"lesson"!==o.booking.activityType&&"event"!==o.booking.activityType&&"sport"!==o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",("leisure"===o.booking.activityType||"formula"===o.booking.activityType||"lesson"===o.booking.activityType||"event"===o.booking.activityType)&&o.booking.timetableBlockPrice.mainPhoto),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","sport"===o.booking.activityType&&(null==o.booking.playgrounds[0].mainPhoto?null:o.booking.playgrounds[0].mainPhoto.contentUrl)),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","sport"===o.booking.activityType&&!(null!=o.booking.playgrounds[0].mainPhoto&&o.booking.playgrounds[0].mainPhoto.contentUrl)&&o.booking.club.mainPhoto.contentUrl),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",("lesson"===o.booking.activityType||"event"===o.booking.activityType)&&!o.booking.timetableBlockPrice.mainPhoto&&o.booking.club.mainPhoto),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",("leisure"===o.booking.activityType||"formula"===o.booking.activityType)&&!o.booking.timetableBlockPrice.mainPhoto),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",o.env.useMb&&!o.booking.club.mainPhoto),n.\u0275\u0275advance(1),n.\u0275\u0275property("activityName",null==o.booking||null==o.booking.activity?null:o.booking.activity.name)("activityIcon",null==o.booking||null==o.booking.activity?null:o.booking.activity.icon)("colors",null==o.booking||null==o.booking.activity?null:o.booking.activity.colors)("position",o.ElementPosition.CENTER),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",o.bookingStatus===o.Period.PAST),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",o.bookingStatus===o.Period.NEXT),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","leisure"!==o.booking.activityType&&"lesson"!==o.booking.activityType&&"event"!==o.booking.activityType&&"formula"!==o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","formula"===o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","leisure"===o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","lesson"===o.booking.activityType||"event"===o.booking.activityType),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind2(21,21,o.booking.startAt,"LL")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf","sport"===o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","leisure"===o.booking.activityType||"formula"===o.booking.activityType),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf","lesson"===o.booking.activityType||"event"===o.booking.activityType)}}let Z=(()=>{class l{constructor(o,_){this.modalService=o,this.environmentService=_,this.cardConfig=d.Z.LARGE,this.reload=new n.EventEmitter,this.Period=E.p,this.BookingCardConfig=d.Z,this.ElementPosition=R.Yj,this.env=this.environmentService.getEnvFile(),this.pathUrl=this.environmentService.getEnvFile().pathFiles}ngOnInit(){}ngOnDestroy(){this.clubSubscription$&&this.clubSubscription$.unsubscribe()}getDuration(){let o;const _=u(this.booking.startAt);return o=u(this.booking.endAt).diff(_,"minutes"),o}openBooking(){var o=this;return(0,m.Z)(function*(){!("activityType"in o.booking)||"lesson"!==o.booking.activityType&&"event"!==o.booking.activityType?yield o.modalService.presentBookingDetailmodal(w.A,o.booking["@id"]).then(_=>{_.onDidDismiss().then(C=>{C.data.refresh&&!0===C.data.refresh&&o.reload.emit(!0)})}):o.modalService.courseDetailsModal(y.B,o.booking,o.userMe).then(_=>{_.onDidDismiss().then(()=>{o.reload.emit(!0)})})})()}}return l.\u0275fac=function(o){return new(o||l)(n.\u0275\u0275directiveInject(B.Z),n.\u0275\u0275directiveInject(D.L))},l.\u0275cmp=n.\u0275\u0275defineComponent({type:l,selectors:[["app-card-my-booking"]],inputs:{booking:"booking",userMe:"userMe",bookingStatus:"bookingStatus",cardConfig:"cardConfig"},outputs:{reload:"reload"},decls:1,vars:1,consts:[["class","do-card-container pos-rel w-100",3,"click",4,"ngIf"],[1,"do-card-container","pos-rel","w-100",3,"click"],[1,"do-card-header","w-100"],["class","my-booking-club-img","alt","sport img",3,"src",4,"ngIf"],[1,"position-levels","dspl-blck","w-100","h-100","do-p-0-5",3,"activityName","activityIcon","colors","position"],[1,"do-card-body","w-100"],[1,"button-position"],["class","btn-primary",4,"ngIf"],["class","btn-primary","style","padding-top: 3px;",4,"ngIf"],["class","club-booking",4,"ngIf"],[1,"date-booking"],["class","duration-price-booking",4,"ngIf"],["alt","sport img",1,"my-booking-club-img",3,"src"],[1,"btn-primary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6",2,"width","25px !important"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"btn-primary",2,"padding-top","3px"],["name","eye-outline",1,"eye-size"],[1,"club-booking"],[1,"duration-price-booking"]],template:function(o,_){1&o&&n.\u0275\u0275template(0,G,25,24,"div",0),2&o&&n.\u0275\u0275property("ngIf",_.booking)},dependencies:[N.NgIf,V.IonIcon,j.q,F.u,A.d,P.E,U.W],styles:[".do-card-container[_ngcontent-%COMP%]{background:white;position:relative}.do-card-container[_ngcontent-%COMP%]   .do-card-header[_ngcontent-%COMP%]{overflow:hidden;color:#fff;max-height:120px!important;border-bottom:1px solid rgba(128,128,128,.168627451)!important}.do-card-container[_ngcontent-%COMP%]   .do-card-header[_ngcontent-%COMP%]   .do-card-header-top[_ngcontent-%COMP%]{overflow:hidden;border-radius:var(--border-radius-2) var(--border-radius-2) 0 0}.do-card-container[_ngcontent-%COMP%]   .do-card-header[_ngcontent-%COMP%]   .do-card-header-pic[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden}img[_ngcontent-%COMP%]{min-height:120px!important;object-fit:cover}button[_ngcontent-%COMP%]{border-radius:40px!important;width:36px!important;height:36px!important;background-color:var(--ion-color-primary)!important;padding-top:3px}.do-card-body[_ngcontent-%COMP%]{position:relative}.button-position[_ngcontent-%COMP%]{position:absolute;top:-32%;right:10px}ion-button[_ngcontent-%COMP%]{min-height:60px}ion-icon[_ngcontent-%COMP%]{font-size:1.8em}.eye-size[_ngcontent-%COMP%]{font-size:1.25em}.club-booking[_ngcontent-%COMP%]{text-align:left;padding-left:3px;font: 800 18px/33px Panton-Black}.duration-price-booking[_ngcontent-%COMP%]{text-align:left;padding:3px;font: 13px/20px Panton;color:#8b8b92!important}.do-card-header[_ngcontent-%COMP%]{border-bottom:none!important}.date-booking[_ngcontent-%COMP%]{text-align:left;padding:3px;font: 16px/20px Panton}.do-card-body[_ngcontent-%COMP%]{padding:5px 5px 5px 10px}@media only screen and (min-width: 768px){.my-booking-club-img[_ngcontent-%COMP%]{max-height:120px;width:100%}}@media only screen and (max-width: 376px){.duration-price-booking[_ngcontent-%COMP%]{font: 11px/20px Panton-Black}}"]}),l})()},69509:(ee,x,c)=>{c.r(x),c.d(x,{ReceiptPageModule:()=>je});var m=c(36895),n=c(24006),d=c(18779),u=c(99274),e=c(94650);let E=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,n.FormsModule,d.IonicModule,n.ReactiveFormsModule,u.aw]}),i})(),y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule]}),i})(),w=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,n.FormsModule,d.IonicModule,u.aw,y]}),i})();var R=c(87977);let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,n.FormsModule,d.IonicModule,u.aw,R.V,y]}),i})();var D=c(53623),N=c(5328),V=c(63096),j=c(19622),F=c(24586);let A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,n.FormsModule,d.IonicModule,n.ReactiveFormsModule,u.aw,D.M,N.a,V.B,j._,F.D,y]}),i})();var P=c(89770),U=c(591);let z=(()=>{class i{constructor(){this.NOTIFICATIONS="NOTIFICATIONS",this.INVITS="INVITS",this.changeView=new e.EventEmitter,this.selectedView=this.NOTIFICATIONS,this.changeView.emit(this.selectedView)}ngOnInit(){}segmentChanged(t){this.selectedView=t.detail.value,this.changeView.emit(this.selectedView)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-tabs-receipt"]],outputs:{changeView:"changeView"},decls:9,vars:7,consts:[["scrollable","true","mode","md",3,"value","ionChange"],["value","NOTIFICATIONS",2,"width","50%"],[1,"tabs-item"],["value","INVITS",2,"width","50%"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"ion-segment",0),e.\u0275\u0275listener("ionChange",function(p){return r.segmentChanged(p)}),e.\u0275\u0275elementStart(1,"ion-segment-button",1)(2,"ion-label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ion-segment-button",3)(6,"ion-label",2),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275propertyInterpolate("value",r.selectedView),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"notifications")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,"invits")))},dependencies:[d.IonLabel,d.IonSegment,d.IonSegmentButton,d.SelectValueAccessor,u.X$],styles:[".tabs-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%}.tabs-block[_ngcontent-%COMP%]   .tabs-item[_ngcontent-%COMP%]{width:50%;text-align:center;font-weight:400;font-size:1.8rem;color:#8b99bb;border-bottom:1px solid #8B99BB}.tabs-block[_ngcontent-%COMP%]   .tabs-item.active[_ngcontent-%COMP%]{color:#4251f8;font-weight:700;border-bottom:3px solid #4251F8}@media only screen and (min-width: 768px){ion-segment[_ngcontent-%COMP%]{width:40%!important;margin:auto auto 20px!important}}"]}),i})();var L=c(21086),b=c(15439),v=c(2994),M=c(92198),$=c(87545),Y=c(72986),h=c(75359),I=c(82064),k=c(1018),K=c(84039),O=c(38629),T=c(15861),W=c(8929),H=c(40943);let S=(()=>{class i{constructor(t){this.element=t,this.debounceTime=0,this.threshold=1,this.visible=new e.EventEmitter,this.subject$=new W.xQ}ngOnInit(){this.createObserver()}ngAfterViewInit(){this.startObservingElements()}ngOnDestroy(){this.observer&&(this.observer.disconnect(),this.observer=void 0),this.subject$.next(),this.subject$.complete()}isVisible(t){return new Promise(r=>{const s=new IntersectionObserver(([p])=>{r(1===p.intersectionRatio),s.disconnect()});s.observe(t)})}createObserver(){this.observer=new IntersectionObserver((s,p)=>{s.forEach(f=>{(s=>s.isIntersecting||s.intersectionRatio>0)(f)&&this.subject$.next({entry:f,observer:p})})},{rootMargin:"0px",threshold:this.threshold})}startObservingElements(){var t=this;!this.observer||(this.observer.observe(this.element.nativeElement),this.subject$.pipe((0,H.g)(this.debounceTime),(0,M.h)(Boolean)).subscribe(function(){var r=(0,T.Z)(function*({entry:s,observer:p}){const f=s.target;(yield t.isVisible(f))&&(t.visible.emit(f),p.unobserve(f))});return function(s){return r.apply(this,arguments)}}()))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.ElementRef))},i.\u0275dir=e.\u0275\u0275defineDirective({type:i,selectors:[["","appObserveVisibility",""]],inputs:{debounceTime:"debounceTime",threshold:"threshold"},outputs:{visible:"visible"}}),i})();function G(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275element(1,"ion-skeleton-text",7)(2,"ion-skeleton-text",7)(3,"ion-skeleton-text",7)(4,"ion-skeleton-text",7)(5,"ion-skeleton-text",7)(6,"ion-skeleton-text",7)(7,"ion-skeleton-text",7)(8,"ion-skeleton-text",7)(9,"ion-skeleton-text",7),e.\u0275\u0275elementEnd())}function Z(i,a){1&i&&e.\u0275\u0275element(0,"img",18)}function l(i,a){1&i&&e.\u0275\u0275element(0,"img",19)}function g(i,a){1&i&&e.\u0275\u0275element(0,"img",20)}function o(i,a){1&i&&e.\u0275\u0275element(0,"div",21)}function _(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",9),e.\u0275\u0275listener("visible",function(){const p=e.\u0275\u0275restoreView(t).$implicit,f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.onVisible(p))})("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.open(p))}),e.\u0275\u0275elementStart(1,"ion-thumbnail",10),e.\u0275\u0275template(2,Z,1,0,"img",11),e.\u0275\u0275template(3,l,1,0,"img",12),e.\u0275\u0275template(4,g,1,0,"img",13),e.\u0275\u0275template(5,o,1,0,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-label")(7,"div",15),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",16),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",17),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()()}if(2&i){const t=a.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("debounceTime",300),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","booking-"===t.targetType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","match"===t.targetType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","booking"===t.targetType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!1===t.viewed),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.content),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(r.dateDateString(t.createdAt))}}function C(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-list"),e.\u0275\u0275template(2,_,13,8,"ion-item",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.notifications)}}function ne(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",22)(1,"div",23),e.\u0275\u0275element(2,"img",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",25)(4,"div",26),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("src","assets/images/illustrations",null!=t.env&&t.env.useMb?"_"+t.env.marqueBlanche.pathName:"","/no_notifications.svg",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,2,"no_notification_currently")," ")}}let ie=(()=>{class i{constructor(t,r,s,p,f){this.notifService=t,this.oneSignalService=r,this.translate=s,this.environmentService=p,this.clubStore=f,this.refresh$=(0,L.of)(!0),this.skeleton=!0,this.club=null,this.env=this.environmentService.getEnvFile()}ngOnInit(){this.clubStore.pipe((0,h.Ys)(I.oX),(0,v.b)(t=>{this.club=t})).subscribe(),this.refresh$.pipe((0,M.h)(t=>!1!==t),(0,$.w)(()=>this.notifService.getAllNotifications(!1).pipe((0,v.b)(()=>{this.skeleton=!1}),(0,M.h)(t=>void 0!==t),(0,v.b)(t=>{this.notifications=t,!0===this.notifService.hasNext&&(this.infiniteScroll.disabled=!1)})))).subscribe()}onVisible(t){!1===t.viewed&&this.notifService.updateNotification(t["@id"]).pipe((0,v.b)(r=>{if(r){const s=this.notifications.find(p=>p["@id"]===r["@id"]);s&&setTimeout(p=>{s.viewed=!0},1e3)}})).subscribe()}open(t){this.oneSignalService.routingNotification(t)}dateDateString(t){const r=b(t).tz(this.club.timezone);return b().tz(this.club.timezone).format("YYYYMMDD")===r.format("YYYYMMDD")?this.translate.instant("today")+" "+r.format("HH:mm"):r.format("DD/MM/YYYY")}loadMoreData(t){this.notifService.hasNext?(t.target.disabled=!1,t.target.enabled=!0):(t.target.complete(),t.target.disabled=!0),this.notifService.getNextPageNotifications(this.notifService.nextPage).pipe((0,Y.q)(1),(0,v.b)(r=>this.notifications=[...this.notifications,...r]),(0,v.b)(()=>t.target.complete())).subscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(k.g),e.\u0275\u0275directiveInject(K.L),e.\u0275\u0275directiveInject(u.sK),e.\u0275\u0275directiveInject(O.L),e.\u0275\u0275directiveInject(h.yh))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-notifications"]],viewQuery:function(t,r){if(1&t&&e.\u0275\u0275viewQuery(d.IonInfiniteScroll,5),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(r.infiniteScroll=s.first)}},inputs:{refresh$:"refresh$"},decls:7,vars:6,consts:[[1,"container"],["class","flex d-col jcc aic",4,"ngIf"],[4,"ngIf"],["class","flex d-col jcfs aic do-p-2",4,"ngIf"],["threshold","50px",3,"ionInfinite"],["loadingSpinner","bubbles",3,"loadingText"],[1,"flex","d-col","jcc","aic"],["animated","",1,"block-notification"],["appObserveVisibility","",3,"debounceTime","visible","click",4,"ngFor","ngForOf"],["appObserveVisibility","",3,"debounceTime","visible","click"],["slot","start",1,"notif-icon-container","pos-rel"],["src","assets/icon/receipt/message-icon.svg","class","notif-icon",4,"ngIf"],["src","assets/icon/receipt/event-icon.svg","class","notif-icon",4,"ngIf"],["src","assets/icon/receipt/booking-icon.svg","class","notif-icon",4,"ngIf"],["class","unread-dot",4,"ngIf"],[1,"notif-title"],[1,"notif-text"],[1,"notif-date"],["src","assets/icon/receipt/message-icon.svg",1,"notif-icon"],["src","assets/icon/receipt/event-icon.svg",1,"notif-icon"],["src","assets/icon/receipt/booking-icon.svg",1,"notif-icon"],[1,"unread-dot"],[1,"flex","d-col","jcfs","aic","do-p-2"],[1,"do-pt-2","do-pb-2","do-pl-7","do-pr-7"],[1,"w-100",3,"src"],[1,"request-result-text","do-pt-2","do-pb-2"],[1,"title-message"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,G,10,0,"div",1),e.\u0275\u0275template(2,C,3,1,"ng-container",2),e.\u0275\u0275template(3,ne,7,4,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-infinite-scroll",4),e.\u0275\u0275listener("ionInfinite",function(p){return r.loadMoreData(p)}),e.\u0275\u0275element(5,"ion-infinite-scroll-content",5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.skeleton),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==r.notifications?null:r.notifications.length)>0&&null!=r.club),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.skeleton&&0===(null==r.notifications?null:r.notifications.length)),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("loadingText",e.\u0275\u0275pipeBind1(6,4,"loading_more_notifications")))},dependencies:[m.NgForOf,m.NgIf,d.IonInfiniteScroll,d.IonInfiniteScrollContent,d.IonItem,d.IonLabel,d.IonList,d.IonSkeletonText,d.IonThumbnail,S,u.X$],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding-right:1rem;padding-left:1rem}.container[_ngcontent-%COMP%]   .block-notification[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem;margin-top:1rem;height:6rem;width:100%}.container[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{font-weight:700}.container[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]{font-size:1.4rem}.container[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{white-space:break-spaces}.container[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%]{font-size:1.2rem;text-align:right}.container[_ngcontent-%COMP%]   .notif-date[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.container[_ngcontent-%COMP%]   .notif-icon-container[_ngcontent-%COMP%]{border-radius:50%;background:var(--ion-color-primary);padding:.8rem;width:4rem;height:4rem;display:flex}.container[_ngcontent-%COMP%]   .notif-icon-container[_ngcontent-%COMP%]   .notif-icon[_ngcontent-%COMP%]{object-fit:contain}.container[_ngcontent-%COMP%]   .unread-dot[_ngcontent-%COMP%]{background:var(--ion-color-danger);width:1rem;height:1rem;border-radius:50%;position:absolute;bottom:0;left:0}"]}),i})();var oe=c(91125),re=c(6297),X=c(25872),ae=c(6659),Q=c(63285),ce=c(1548),J=c(72366);function se(i,a){if(1&i&&e.\u0275\u0275element(0,"app-card-my-booking",7),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("booking",t.booking)("cardConfig",t.BookingCardConfig.MEDIUM)}}let le=(()=>{class i{constructor(t,r){this.bookingService=t,this.modalService=r,this.booking=null,this.BookingCardConfig=re.Z}ngOnInit(){this.notification.createdAt=b(this.notification.createdAt).tz(this.club.timezone).format("YYYY-MM-DD HH:mm:ss"),this.bookingService.getBooking(this.notification.targetId).subscribe(t=>{this.booking=t})}showPlayer(){this.modalService.playerModal(X.l,this.notification.userClientRequester["@id"])}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(ae.q),e.\u0275\u0275directiveInject(Q.Z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-booking-join"]],inputs:{notification:"notification",club:"club"},decls:11,vars:6,consts:[[1,"card-conversation"],[1,"w-100"],["size","10"],[1,"date"],[1,"bloc-message"],[1,"title"],[3,"booking","cardConfig",4,"ngIf"],[3,"booking","cardConfig"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ion-grid",1)(2,"ion-row")(3,"ion-col",2)(4,"div",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"moment"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,se,1,2,"app-card-my-booking",6),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("le ",e.\u0275\u0275pipeBind2(6,3,r.notification.createdAt,"DD/MM/Y HH:mm"),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(r.notification.content),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==r.booking))},dependencies:[m.NgIf,d.IonCol,d.IonGrid,d.IonRow,ce.r,J.d],styles:[".card-conversation[_ngcontent-%COMP%]{width:100%;display:flex;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:50%}.card-conversation[_ngcontent-%COMP%]   .bloc-message[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;background-color:#e6e9f0;border-radius:1rem;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .bloc-message[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;margin-bottom:.5rem}"]}),i})();var q=c(27221),de=c(31130),pe=c(72907);function me(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",7)(2,"ion-button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.accept())}),e.\u0275\u0275elementStart(3,"div",9),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"ion-button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.refuse())}),e.\u0275\u0275elementStart(7,"div",9),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()}2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,2,"accept")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,4,"refuse")," "))}function ge(i,a){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"friend_request_accepted")))}function fe(i,a){1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"friend_request_refused")))}let ue=(()=>{class i{constructor(t,r,s,p,f){this.translate=t,this.alertController=r,this.modalService=s,this.loaderService=p,this.friendService=f,this.loaded=!1,this.friendRequest=null}ngOnInit(){this.loadFriendRequest(),this.notification.createdAt=b(this.notification.createdAt).tz(this.club.timezone).format("YYYY-MM-DD HH:mm:ss")}loadFriendRequest(){this.friendService.getFriendRequest(this.notification.targetId).pipe((0,v.b)(()=>{this.loaded=!0}),(0,q.K)(()=>(this.loaded=!0,null))).subscribe(t=>{t&&(this.friendRequest=t)})}canceled(){var t=this;return(0,T.Z)(function*(){yield(yield t.alertController.create({header:t.translate.instant("title_alert_friend_request"),message:t.translate.instant("message_alert_friend_request_canceled"),buttons:[{text:t.translate.instant("yes"),handler:()=>{t.confirmCanceled()}},{text:t.translate.instant("no")}]})).present()})()}accept(){const t="/user-clients/friend-requests/"+this.notification.targetId;this.loaderService.presentLoading(),this.friendService.acceptInvit(t).pipe((0,q.K)(r=>r)).subscribe(()=>{this.loadFriendRequest(),this.loaderService.dismiss()})}refuse(){const t="/user-clients/friend-requests/"+this.notification.targetId;this.loaderService.presentLoading(),this.friendService.cancelInvit(t).pipe((0,q.K)(r=>r)).subscribe(()=>{this.loadFriendRequest(),this.loaderService.dismiss()})}confirmCanceled(){this.refuse()}showPlayer(){this.modalService.playerModal(X.l,this.notification.userClientRequester["@id"])}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(u.sK),e.\u0275\u0275directiveInject(d.AlertController),e.\u0275\u0275directiveInject(Q.Z),e.\u0275\u0275directiveInject(de.D),e.\u0275\u0275directiveInject(pe.W))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-friend-request"]],inputs:{notification:"notification",club:"club"},decls:13,vars:8,consts:[[1,"card-conversation"],[1,"w-100"],["size","10"],[1,"date"],[1,"message-block"],[1,"title"],[4,"ngIf"],[1,"actions-block"],["color","success","mode","ios","expand","block",1,"btn-next","accept",3,"click"],[1,"do-p-2"],["color","danger","mode","ios","expand","block",1,"btn-next","cancel",3,"click"],[1,"text-success"],[1,"text-danger"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ion-grid",1)(2,"ion-row")(3,"ion-col",2)(4,"div",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"moment"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,me,10,6,"ng-container",6),e.\u0275\u0275template(11,ge,4,3,"ng-container",6),e.\u0275\u0275template(12,fe,4,3,"ng-container",6),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" le ",e.\u0275\u0275pipeBind2(6,5,r.notification.createdAt,"DD/MM/Y HH:mm")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",r.notification.content," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.friendRequest&&r.loaded&&null===r.friendRequest.acceptedDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.friendRequest&&r.loaded&&null!==r.friendRequest.acceptedDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null===r.friendRequest&&r.loaded))},dependencies:[m.NgIf,d.IonButton,d.IonCol,d.IonGrid,d.IonRow,u.X$,J.d],styles:[".card-conversation[_ngcontent-%COMP%]{width:100%;display:flex;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:50%}.card-conversation[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;background-color:#e6e9f0;border-radius:1rem;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.card-conversation[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex-basis:100%}.card-conversation[_ngcontent-%COMP%]   .message-block[_ngcontent-%COMP%]   .actions-block[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){text-transform:capitalize}"]}),i})();var ve=c(13843),_e=c(4428),he=c(97732);function be(i,a){if(1&i&&e.\u0275\u0275element(0,"app-match-card",7),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("match",t.match)("config",t.MatchCardConfig.SHORT)}}let Ce=(()=>{class i{constructor(t,r,s){this.matchService=t,this.clubStore=r,this.modalService=s,this.match=null,this.MatchCardConfig=ve.D}ngOnInit(){this.clubStore.pipe((0,h.Ys)(I.oX),(0,v.b)(t=>{this.notification.createdAt=b(this.notification.createdAt).tz(t.timezone).format("YYYY-MM-DD HH:mm:ss")})).subscribe(),this.matchService.getMatch(this.notification.targetId).subscribe(t=>{this.match=t})}showPlayer(){this.modalService.playerModal(X.l,this.notification.userClientRequester["@id"])}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(_e.Q),e.\u0275\u0275directiveInject(h.yh),e.\u0275\u0275directiveInject(Q.Z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-match-invitation"]],inputs:{notification:"notification",club:"club"},decls:11,vars:6,consts:[[1,"card-conversation"],[1,"w-100"],["size","10"],[1,"date"],[1,"bloc-message"],[1,"title"],[3,"match","config",4,"ngIf"],[3,"match","config"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ion-grid",1)(2,"ion-row")(3,"ion-col",2)(4,"div",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"moment"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",4)(8,"div",5),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,be,1,2,"app-match-card",6),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("le ",e.\u0275\u0275pipeBind2(6,3,r.notification.createdAt,"DD/MM/Y HH:mm"),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(r.notification.content),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null!==r.match))},dependencies:[m.NgIf,d.IonCol,d.IonGrid,d.IonRow,he.r,J.d],styles:[".card-conversation[_ngcontent-%COMP%]{width:100%;display:flex;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:50%}.card-conversation[_ngcontent-%COMP%]   .bloc-message[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:column;background-color:#e6e9f0;border-radius:1rem;padding:1rem}.card-conversation[_ngcontent-%COMP%]   .bloc-message[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:1.4rem;margin-bottom:.5rem}"]}),i})();function xe(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-booking-join",4),e.\u0275\u0275listener("visible",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onVisible(s))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("debounceTime",300)("club",r.club)("notification",t)}}function ye(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-friend-request",4),e.\u0275\u0275listener("visible",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onVisible(s))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("debounceTime",300)("club",r.club)("notification",t)}}function Me(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-match-invitation",4),e.\u0275\u0275listener("visible",function(){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext().$implicit,p=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(p.onVisible(s))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275property("debounceTime",300)("club",r.club)("notification",t)}}function Ie(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,xe,1,3,"app-booking-join",3),e.\u0275\u0275template(2,ye,1,3,"app-friend-request",3),e.\u0275\u0275template(3,Me,1,3,"app-match-invitation",3),e.\u0275\u0275elementContainerEnd()),2&i){const t=a.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","booking"===t.targetType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","friend_request"===t.targetType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","match"===t.targetType)}}let ke=(()=>{class i{constructor(t,r,s){this.modalCtr=t,this.clubStore=r,this.notifService=s,this.club=null,this.conversations=[]}ngOnInit(){this.clubStore.pipe((0,h.Ys)(I.oX),(0,v.b)(t=>{this.club=t})).subscribe(),this.notifService.getAllNotifications(!0).subscribe(t=>{t&&t.forEach(s=>{s.userClientRequester["@id"]===this.from&&this.conversations.push(s)})})}onVisible(t){!1===t.viewed&&this.notifService.updateNotification(t["@id"]).pipe((0,v.b)(r=>{if(r){const s=this.conversations.find(p=>p["@id"]===r["@id"]);s&&setTimeout(p=>{s.viewed=!0},1e3)}})).subscribe()}close(){this.modalCtr.dismiss().then()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(d.ModalController),e.\u0275\u0275directiveInject(h.yh),e.\u0275\u0275directiveInject(k.g))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-conversation"]],inputs:{from:"from",fromName:"fromName"},decls:4,vars:2,consts:[["translucent","true"],[3,"title","back"],[4,"ngFor","ngForOf"],["appObserveVisibility","",3,"debounceTime","club","notification","visible",4,"ngIf"],["appObserveVisibility","",3,"debounceTime","club","notification","visible"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"app-default-header",1),e.\u0275\u0275listener("back",function(){return r.close()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(2,"ion-content"),e.\u0275\u0275template(3,Ie,4,3,"ng-container",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("title",r.fromName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",r.conversations))},dependencies:[m.NgForOf,m.NgIf,d.IonContent,d.IonHeader,oe.C,S,le,ue,Ce],styles:["ion-header[_ngcontent-%COMP%]{box-shadow:0 2px 2px #0003}"]}),i})();var te=c(25026),Pe=c(18712);function Oe(i,a){1&i&&(e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275element(1,"ion-skeleton-text",5)(2,"ion-skeleton-text",5)(3,"ion-skeleton-text",5)(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",5)(6,"ion-skeleton-text",5)(7,"ion-skeleton-text",5)(8,"ion-skeleton-text",5)(9,"ion-skeleton-text",5),e.\u0275\u0275elementEnd())}function Te(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",9),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.open(p["@id"],p.firstName+" "+p.lastName))}),e.\u0275\u0275element(1,"app-avatar-name",10),e.\u0275\u0275elementEnd()}if(2&i){const t=a.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("imageUrl",null!==t.avatar?t.avatar.contentUrl:void 0)("imageSize","12vw")("title",t.firstName+" "+t.lastName)("fontSizes",r.FontSize.LARGE)("colorStyle",r.ColorStyle.DARK)}}function Se(i,a){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",9),e.\u0275\u0275listener("click",function(){const p=e.\u0275\u0275restoreView(t).$implicit,f=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(f.open(p["@id"],p.firstName+" "+p.lastName))}),e.\u0275\u0275element(1,"app-avatar-name",10),e.\u0275\u0275elementEnd()}if(2&i){const t=a.$implicit,r=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("imageUrl",null!==t.avatar?t.avatar.contentUrl:void 0)("imageSize","5vw")("title",t.firstName+" "+t.lastName)("fontSizes",r.FontSize.LARGE)("colorStyle",r.ColorStyle.DARK)}}function Ee(i,a){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-list",6),e.\u0275\u0275template(2,Te,2,5,"ion-item",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ion-list",8),e.\u0275\u0275template(4,Se,2,5,"ion-item",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.conversations),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.conversations)}}function we(i,a){if(1&i&&(e.\u0275\u0275elementStart(0,"div",11)(1,"div",12),e.\u0275\u0275element(2,"img",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",14)(4,"div",15),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("src","assets/images/illustrations",null!=t.env&&t.env.useMb?"_"+t.env.marqueBlanche.pathName:"","/no_result.svg",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,2,"no_conversation_currently")," ")}}let Re=(()=>{class i{constructor(t,r,s){this.notifService=t,this.modalCtr=r,this.environmentService=s,this.skeleton=!0,this.FontSize=te.Bf,this.ColorStyle=te.HQ,this.env=this.environmentService.getEnvFile(),this.conversations=[],this.pathFiles=s.getEnvFile().pathFiles}ngOnInit(){const t=[];this.notifService.getAllNotifications(!0).subscribe(r=>{this.skeleton=!1,r&&(this.notifications=r,this.notifications.forEach(s=>{t.includes(s.userClientRequester["@id"])||(this.conversations.push(s.userClientRequester),t.push(s.userClientRequester["@id"]))}))})}open(t,r){this.modalCtr.create({component:ke,componentProps:{from:t,fromName:r},swipeToClose:!0}).then(s=>{s.present().then()})}unRead(t){for(let r=0;r<this.notifications.length;r++){const s=this.notifications[r];if(s.userClientRequester===t&&s.viewed)return!0}return!1}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(k.g),e.\u0275\u0275directiveInject(d.ModalController),e.\u0275\u0275directiveInject(O.L))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-invits"]],decls:4,vars:3,consts:[[1,"container"],["class","flex d-col aic jcc do-pt-1",4,"ngIf"],[4,"ngIf"],["class","flex d-col jcfs aic do-p-2",4,"ngIf"],[1,"flex","d-col","aic","jcc","do-pt-1"],["animated","",1,"skeleton-block"],[1,"hide-tablet"],[3,"click",4,"ngFor","ngForOf"],[1,"show-tablet"],[3,"click"],[1,"dspl-blck","do-pt-1","do-pb-1",3,"imageUrl","imageSize","title","subtitle","fontSizes","colorStyle"],[1,"flex","d-col","jcfs","aic","do-p-2"],[1,"do-pt-2","do-pb-2","do-pl-7","do-pr-7"],[1,"w-100",3,"src"],[1,"request-result-text","do-pt-2","do-pb-2"],[1,"title-message"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Oe,10,0,"div",1),e.\u0275\u0275template(2,Ee,5,2,"ng-container",2),e.\u0275\u0275template(3,we,7,4,"div",3),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.skeleton),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==r.conversations?null:r.conversations.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.skeleton&&0===r.conversations.length))},dependencies:[m.NgForOf,m.NgIf,d.IonItem,d.IonList,d.IonSkeletonText,Pe.E,u.X$],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding-right:1rem;padding-left:1rem}.container[_ngcontent-%COMP%]   .skeleton-block[_ngcontent-%COMP%]{height:6rem;width:100%}.container[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:900;font-size:1.9rem}.container[_ngcontent-%COMP%]   .unread[_ngcontent-%COMP%]   .pastille-unread[_ngcontent-%COMP%]{width:.5rem;height:.5rem;border-radius:50%;background-color:#cf3c4f}.container[_ngcontent-%COMP%]   .block-notification[_ngcontent-%COMP%]{box-shadow:0 3pt .5rem #0000001a;border-radius:.5rem;padding:.5rem;margin-top:1rem;align-content:center}.container[_ngcontent-%COMP%]   .block-notification[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.container[_ngcontent-%COMP%]   .block-notification[_ngcontent-%COMP%]   .icon-notification[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);border-radius:50%;margin:3pt;height:3rem;width:3rem}.container[_ngcontent-%COMP%]   .block-notification[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800}.icon-goto[_ngcontent-%COMP%]{transform:rotate(180deg)}.title-message[_ngcontent-%COMP%]{font-size:var(--app-font-size);font-weight:800}.hide-tablet[_ngcontent-%COMP%]{display:block}.show-tablet[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 768px){.hide-tablet[_ngcontent-%COMP%]{display:none}.show-tablet[_ngcontent-%COMP%]{display:block}}"]}),i})();function Be(i,a){if(1&i&&e.\u0275\u0275element(0,"app-notifications",9),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("refresh$",t.refresh$)}}function De(i,a){1&i&&e.\u0275\u0275element(0,"app-invits")}const Ne=[{path:"",component:(()=>{class i{constructor(){this.refreshSub$=new U.X(!0),this.refresh$=this.refreshSub$.asObservable(),this.view="NOTIFICATIONS"}ngOnInit(){}changeView(t){this.view=t}refresh(t){this.refreshSub$.next(!0),setTimeout(()=>{t.target.complete()},800)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-receipt"]],decls:13,vars:5,consts:[["translucent","true"],["color","var(--app-dark-or-not-color)"],["slot","start"],[1,"title",2,"color","var(--app-dark-or-not-color-contrast)"],[1,"header",3,"changeView"],["slot","fixed",3,"ionRefresh"],["pullingIcon","null","refreshingSpinner","circles"],[3,"refresh$",4,"ngIf"],[4,"ngIf"],[3,"refresh$"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.\u0275\u0275element(3,"ion-menu-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"app-tabs-receipt",4),e.\u0275\u0275listener("changeView",function(p){return r.changeView(p)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"ion-content")(9,"ion-refresher",5),e.\u0275\u0275listener("ionRefresh",function(p){return r.refresh(p)}),e.\u0275\u0275element(10,"ion-refresher-content",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Be,1,1,"app-notifications",7),e.\u0275\u0275template(12,De,1,0,"app-invits",8),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"inbox")),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf","NOTIFICATIONS"===r.view),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","INVITS"===r.view))},dependencies:[m.NgIf,d.IonButtons,d.IonContent,d.IonHeader,d.IonMenuButton,d.IonRefresher,d.IonRefresherContent,d.IonToolbar,z,ie,Re,u.X$],styles:[".header-container[_ngcontent-%COMP%]{background-color:var(--app-dark-or-not-color)}.header-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky}.title[_ngcontent-%COMP%]{width:100%;min-height:50pt;text-align:center;align-items:center;display:flex;flex-direction:column;font-weight:700;font-size:1.8rem;padding:2rem}"]}),i})()}];let Ve=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[P.Bz.forChild(Ne),P.Bz]}),i})(),je=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,n.FormsModule,d.IonicModule,Ve,u.aw,E,w,B,A]}),i})()},6297:(ee,x,c)=>{c.d(x,{Z:()=>m});var m=(()=>{return(n=m||(m={})).SMALL="SMALL",n.MEDIUM="MEDIUM",n.LARGE="LARGE",m;var n})()}}]);