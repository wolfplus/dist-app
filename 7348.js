"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7348],{97348:(yt,S,a)=>{a.r(S),a.d(S,{AccountPageModule:()=>xt});var d=a(36895),g=a(24006),c=a(18779),C=a(89770),u=a(15861),_=a(591),h=a(2994),A=a(72986),B=a(92198),b=a(76129),N=a(82064),f=a(75359),E=a(59926),T=a(36086),e=a(94650),v=a(19619),V=a(36467),D=a(6659),x=a(51982),w=a(38629),F=a(80836),p=a(99274);let j=(()=>{class n{constructor(t){this.translate=t,this.changeTab=new e.EventEmitter,this.tab1=this.translate.instant("profile"),this.tab2=this.translate.instant("information"),this.selectedView="PROFIL",this.changeTab.emit(this.selectedView)}ngOnInit(){}segmentChanged(t){this.selectedView=t.detail.value,this.changeTab.emit(this.selectedView)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(p.sK))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-tabs-account"]],inputs:{selectedView:"selectedView",userData:"userData"},outputs:{changeTab:"changeTab"},decls:9,vars:7,consts:[["scrollable","true","mode","md",3,"value","ionChange"],["value","PROFIL",2,"width","50%"],[1,"tabs-item"],["value","INFORMATIONS",2,"width","50%"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"ion-segment",0),e.\u0275\u0275listener("ionChange",function(s){return o.segmentChanged(s)}),e.\u0275\u0275elementStart(1,"ion-segment-button",1)(2,"ion-label",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ion-segment-button",3)(6,"ion-label",2),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275propertyInterpolate("value",o.selectedView),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"profile")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,"informations")))},dependencies:[c.IonLabel,c.IonSegment,c.IonSegmentButton,c.SelectValueAccessor,p.X$],styles:[".tabs-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;position:sticky}.tabs-block[_ngcontent-%COMP%]   .tabs-item[_ngcontent-%COMP%]{width:50%;text-align:center;font-weight:400;font-size:1.8rem;color:var(--app-dark-or-not-color-contrast)!important;border-bottom:1px solid #8B99BB}.tabs-block[_ngcontent-%COMP%]   .tabs-item.active[_ngcontent-%COMP%]{color:#4251f8;font-weight:700;border-bottom:3px solid #4251F8}@media only screen and (min-width: 768px){ion-segment[_ngcontent-%COMP%]{width:40%;margin:auto}}"]}),n})();var L=a(13843),O=a(99877),$=a(4428),z=a(97732),U=a(46144),R=a(29814),X=a(92486),Q=a(81935);const Z=function(n){return{"single-display":n}};function G(n,r){if(1&n&&e.\u0275\u0275element(0,"app-level-card",9),2&n){const t=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Z,1===o.userData.activities.length))("activity",t)}}function K(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275template(1,G,1,4,"app-level-card",8),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.userData.activities)}}function W(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10)(1,"div"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.goToUserActivities())}),e.\u0275\u0275elementStart(5,"div",12),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"user_has_no_activity")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,4,"fill_your_activities")," "))}function H(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",13)}function Y(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-slide")(1,"app-match-card-tablet",21),e.\u0275\u0275listener("reloadMatches",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.getMatches())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"app-match-card",22),e.\u0275\u0275listener("reloadMatches",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.getMatches())}),e.\u0275\u0275elementEnd()()}if(2&n){const t=r.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("match",t)("userId",null==o.user?null:o.user.id)("config",o.MatchCardConfig.FULL),e.\u0275\u0275advance(1),e.\u0275\u0275property("match",t)("userId",null==o.user?null:o.user.id)("config",o.MatchCardConfig.FULL)}}function J(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",15)(2,"div",16),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"div",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",18)(7,"ion-slides",19),e.\u0275\u0275template(8,Y,3,6,"ion-slide",20),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,"your_matches")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",t.matchs)}}function q(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-matchs",23),e.\u0275\u0275listener("noMatch",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.updateMatchsDisplay(i))}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("userId",null==t.user?null:t.user.id)("section","profile")("noChange",!0)}}function ee(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",25)(1,"div",26),e.\u0275\u0275element(2,"img",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("src","assets/images/illustrations",null!=t.env&&t.env.useMb?"_"+t.env.marqueBlanche.pathName:"","/no_result.svg",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,2,"nothing_planned")," ")}}function te(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ee,6,4,"div",24),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.displayNoBooking&&t.displayNoMatch&&!t.showMatchCardsSkeleton)}}function ne(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",25)(1,"div",26),e.\u0275\u0275element(2,"img",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",28),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("src","assets/images/illustrations",null!=t.env&&t.env.useMb?"_"+t.env.marqueBlanche.pathName:"","/no_result.svg",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,2,"nothing_planned")," ")}}function oe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ne,6,4,"div",24),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.displayNoBooking&&0===(null==t.matchs?null:t.matchs.length)&&!t.showMatchCardsSkeleton)}}let ie=(()=>{class n{constructor(t,o,i,s){this.matchService=t,this.modalCtrl=o,this.environmentService=i,this.accountStore=s,this.refreshData=new e.EventEmitter,this.MatchCardConfig=L.D,this.matchs=[],this.refreshSub$=new _.X(!1),this.refresh$=this.refreshSub$.asObservable(),this.refreshMatchesSub$=new _.X(!0),this.refreshMatches$=this.refreshMatchesSub$.asObservable(),this.displayNoBooking=!1,this.displayNoMatch=!1,this.skeletonBookings=!1,this.env=this.environmentService.getEnvFile()}ngOnInit(){this.getMatches()}ionViewDidEnter(){this.getMatches()}getMatches(){var t=this;return(0,u.Z)(function*(){t.matchs=[],t.showMatchCardsSkeleton=!1,t.accountStore.select(E.t).pipe((0,h.b)(function(){var o=(0,u.Z)(function*(i){t.userMe=i,t.user=i,t.userMe?yield t.matchService.getMyMatches(t.userMe.id,!1,b.p.NEXT,5).subscribe(s=>{null!=s&&(t.matchs=s),t.showMatchCardsSkeleton=!0}):t.showMatchCardsSkeleton=!0});return function(i){return o.apply(this,arguments)}}())).subscribe()})()}setGradient(t){return{background:`linear-gradient(90deg, ${t[0]}, ${t[1]})`,"background-repeat":"no-repeat",opacity:".8"}}updateMatches(t){!0===t&&this.refreshMatchesSub$.next(!0)}updateBookingsDisplay(t){this.displayNoBooking=!0===t}updateMatchsDisplay(t){this.displayNoMatch=!0===t}goToUserActivities(){this.modalCtrl.create({component:O.k}).then(t=>{t.present().then(),t.onDidDismiss().then(o=>{void 0!==o.data&&o.data.refresh&&this.refreshData.emit(!0)})})}getEvent(){this.events=[]}getPlayers(){this.players=[{},{},{}]}getPlayedClub(){this.playedClubs=[]}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject($.Q),e.\u0275\u0275directiveInject(c.ModalController),e.\u0275\u0275directiveInject(w.L),e.\u0275\u0275directiveInject(f.yh))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-profil-account"]],inputs:{userData:"userData",bookings:"bookings",nextBookings:"nextBookings",pastBookings:"pastBookings"},outputs:{refreshData:"refreshData"},decls:9,vars:11,consts:[["class","levels-container scroll-x-center",4,"ngIf","ngIfElse"],["noActivities",""],[1,"dspl-blck",3,"bookings","nextBookings","pastBookings","noChange","noBooking","refreshMatches"],["animated","","class","card-my-booking-skeleton","style","height: 120px; width:92%; margin: auto; margin-top:15px",4,"ngIf"],["class","block-container",4,"ngIf"],[3,"userId","section","noChange","noMatch",4,"ngIf"],[4,"ngIf"],[1,"levels-container","scroll-x-center"],["class","dspl-blck scroll-sa-center",3,"ngClass","activity",4,"ngFor","ngForOf"],[1,"dspl-blck","scroll-sa-center",3,"ngClass","activity"],[1,"no-levels-container","flex","aic","d-col","w-100","do-p-2"],["fill","outline","expand","block","mode","ios",1,"btn-confirm",3,"click"],[1,"do-p-2"],["animated","",1,"card-my-booking-skeleton",2,"height","120px","width","92%","margin","auto","margin-top","15px"],[1,"block-container"],[1,"flex","do-p-1-2"],[1,"section-title"],[1,"title-stroke"],[1,"horizontal"],["pager","true"],[4,"ngFor","ngForOf"],[1,"dspl-blck","show-tablet",3,"match","userId","config","reloadMatches"],[1,"dspl-blck","hide-tablet",3,"match","userId","config","reloadMatches"],[3,"userId","section","noChange","noMatch"],["class","no-booking-container t-center do-pb-2",4,"ngIf"],[1,"no-booking-container","t-center","do-pb-2"],[1,"do-pt-2","do-pb-2","do-pl-7","do-pr-7"],["alt","",3,"src"],[1,"title-message"]],template:function(t,o){if(1&t&&(e.\u0275\u0275template(0,K,2,1,"div",0),e.\u0275\u0275template(1,W,8,6,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(3,"app-last-booking",2),e.\u0275\u0275listener("noBooking",function(s){return o.updateBookingsDisplay(s)})("refreshMatches",function(s){return o.updateMatches(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,H,1,0,"ion-skeleton-text",3),e.\u0275\u0275template(5,J,9,4,"div",4),e.\u0275\u0275template(6,q,1,3,"app-matchs",5),e.\u0275\u0275template(7,te,2,1,"div",6),e.\u0275\u0275template(8,oe,2,1,"div",6)),2&t){const i=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",(null==o.userData?null:o.userData.activities.length)>0)("ngIfElse",i),e.\u0275\u0275advance(3),e.\u0275\u0275property("bookings",o.bookings)("nextBookings",o.nextBookings)("pastBookings",o.pastBookings)("noChange",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.showMatchCardsSkeleton),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.env.useMb&&(null==o.matchs?null:o.matchs.length)>0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.env.useMb),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.env.useMb),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.env.useMb)}},dependencies:[d.NgClass,d.NgForOf,d.NgIf,c.IonButton,c.IonSkeletonText,c.IonSlide,c.IonSlides,z.r,U.t,R.p,X.e,Q.l,p.X$],styles:[".block-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.block-container[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll}.block-container[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%]   app-match-card[_ngcontent-%COMP%], .block-container[_ngcontent-%COMP%]   .horizontal[_ngcontent-%COMP%]   app-card-my-booking[_ngcontent-%COMP%]{margin-bottom:4rem;width:100%!important;padding:0 2rem}.levels-container[_ngcontent-%COMP%]{width:100%;display:flex;padding:2rem;overflow-x:scroll}.levels-container[_ngcontent-%COMP%], .no-levels-container[_ngcontent-%COMP%]{background:#dbdee4}.no-booking-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:30vw}.title-message[_ngcontent-%COMP%]{font-size:var(--app-font-size);font-weight:800}ion-slides[_ngcontent-%COMP%]{height:100%;min-width:100%!important}ion-slides[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{width:100%!important}app-level-card[_ngcontent-%COMP%]{display:block;margin-right:2rem;margin-left:2rem}app-level-card.single-display[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}.hide-tablet[_ngcontent-%COMP%]{display:block}.show-tablet[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 768px){.dspl-blck[_ngcontent-%COMP%]{display:block;min-width:33vw;margin-right:2rem}.levels-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.hide-tablet[_ngcontent-%COMP%]{display:none}.show-tablet[_ngcontent-%COMP%]{display:block}}"]}),n})();var re=a(81322),ae=a(83830),se=a(42701),ce=a(96304),le=a(4562),de=a(16856),pe=a(42216),me=a(37901),ue=a(23152),ge=a(40110),he=a(22253),fe=a(32558),_e=a(57990),ve=a.n(_e),Ce=a(27221),be=a(31130),xe=a(10640),y=a(31443),I=a(91125);const we=["code1"],ye=["code2"],Ie=["code3"],Me=["code4"],Pe=function(n){return{phone:n}};function ke(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"ion-row")(1,"ion-col")(2,"div",1)(3,"div",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",10),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,2,"phone_code_title_verification")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(9,4,"phone_code_subtitle_verification",e.\u0275\u0275pureFunction1(7,Pe,t.phoneNumber))," ")}}function Se(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-row",11)(1,"ion-col",12)(2,"input",13,14),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.codeInput1=i)})("keyup",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.changeInput(i,"code1"))})("keyup.delete",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.deleteInput("code1"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"ion-col",12)(5,"input",13,15),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.codeInput2=i)})("keyup",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.changeInput(i,"code2"))})("keyup.delete",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.deleteInput("code2"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"ion-col",12)(8,"input",13,16),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.codeInput3=i)})("keyup",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.changeInput(i,"code3"))})("keyup.delete",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.deleteInput("code3"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-col",12)(11,"input",13,17),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.codeInput4=i)})("keyup",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.changeInput(i,"code4"))})("keyup.delete",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.deleteInput("code4"))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.codeInput1),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.codeInput2),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.codeInput3),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.codeInput4)}}function Ee(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.sendPhone())}),e.\u0275\u0275elementStart(1,"div",19),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"confirm_phone")," "))}function Te(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.confirmTapeCode())}),e.\u0275\u0275elementStart(1,"div",19),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"validate")," "))}let Oe=(()=>{class n{constructor(t,o,i,s,l,m){this.modalCtrl=t,this.loaderService=o,this.translate=i,this.authService=s,this.userService=l,this.toastService=m,this.showCode=!1,this.errorPhone=!1}ngOnInit(){}ngAfterViewInit(){const t=document.querySelector("#phone");this.iti=ve()(t,{customPlaceholder:function(o,i){return"e.g. "+o},initialCountry:"fr",onlyCountries:["ae","be","ch","ci","de","es","fr","gb","gp","it","lu","mq","nl","pt","re","sn","mu","gf","th","se","mc","ma","nc","mg","dz","pl"],utilsScript:"js/utils.js"})}confirmCode(){}sendPhone(){this.phoneNumber=this.iti.getNumber(),this.iti.getValidationError()>0?(this.errorPhoneMessage=this.translate.instant("user_phone_not_valid"),this.errorPhone=!0):(this.loaderService.presentLoading(),this.errorPhoneMessage="",this.errorPhone=!1,this.authService.checkIfUserExists(this.phoneNumber).pipe((0,h.b)(t=>{t.exist?(this.errorPhoneMessage=this.translate.instant("user_already_exist"),this.errorPhone=!0):this.authService.getPhoneNumberValidationCode(this.phoneNumber).subscribe(o=>{o&&(this.showCode=!0)}),this.loaderService.dismiss()}),(0,Ce.K)(t=>(this.loaderService.dismiss(),t))).toPromise().then(()=>{this.loaderService.dismiss()}).catch(()=>{this.loaderService.dismiss()}))}close(){this.modalCtrl.dismiss({refresh:!0}).then()}confirmTapeCode(){this.loaderService.presentLoading(),this.phoneCode=this.codeInput1+""+this.codeInput2+this.codeInput3+this.codeInput4,this.authService.verifyPhoneNumberValidationCode(this.phoneNumber,this.phoneCode).subscribe(t=>{t&&this.userService.get().subscribe(o=>{o&&(this.authService.updateUser(o.id,{phoneNumber:this.phoneNumber}),this.toastService.presentSuccess("update_phone_number_success"),this.close()),this.loaderService.dismiss()})})}changeInput(t,o){if("Meta"===t.key){let i="";switch(o){case"code1":case"code2":case"code3":case"code4":i=""+this.codeInput1}i.split("").forEach((l,m)=>{switch(m){case 0:this.codeInput1=parseInt(l,null);break;case 1:this.codeInput2=parseInt(l,null);break;case 2:this.codeInput3=parseInt(l,null);break;case 3:this.codeInput4=parseInt(l,null)}})}else switch(o){case"code1":null!=this.codeInput1&&this.code2Element.nativeElement.focus();break;case"code2":null!=this.codeInput2&&this.code3Element.nativeElement.focus();break;case"code3":null!=this.codeInput3&&this.code4Element.nativeElement.focus()}}deleteInput(t){switch(t){case"code2":this.codeInput2=null,this.code1Element.nativeElement.focus();break;case"code3":this.codeInput3=null,this.code2Element.nativeElement.focus();break;case"code4":this.codeInput4=null,this.code3Element.nativeElement.focus();break;case"code1":this.codeInput1=null}}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(c.ModalController),e.\u0275\u0275directiveInject(be.D),e.\u0275\u0275directiveInject(p.sK),e.\u0275\u0275directiveInject(v.e),e.\u0275\u0275directiveInject(xe.K),e.\u0275\u0275directiveInject(y.k))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-phone-number"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(we,5),e.\u0275\u0275viewQuery(ye,5),e.\u0275\u0275viewQuery(Ie,5),e.\u0275\u0275viewQuery(Me,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.code1Element=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.code2Element=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.code3Element=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(o.code4Element=i.first)}},decls:20,vars:11,consts:[[3,"title","subtitle","back"],[1,"flex","do-p-2"],[1,"section-title"],[1,"title-stroke"],[1,"text-center","subtitle","do-px-2"],[1,"group-tel"],["type","tel","id","phone"],[4,"ngIf"],["class","container-code",4,"ngIf"],["class","btn-next","mode","ios","expand","block","color","primary",3,"click",4,"ngIf"],[1,"text-center","subtitle"],[1,"container-code"],["size","3",1,"input-block"],["type","tel",1,"input-code",3,"ngModel","ngModelChange","keyup","keyup.delete"],["code1",""],["code2",""],["code3",""],["code4",""],["mode","ios","expand","block","color","primary",1,"btn-next",3,"click"],[1,"do-p-2"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"app-default-header",0),e.\u0275\u0275listener("back",function(){return o.close()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"ion-content")(2,"ion-grid")(3,"ion-col")(4,"div",1)(5,"div",2),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"div",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",4),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"ion-row")(13,"ion-col",5),e.\u0275\u0275element(14,"input",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,ke,10,9,"ion-row",7),e.\u0275\u0275template(16,Se,13,4,"ion-row",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"ion-footer"),e.\u0275\u0275template(18,Ee,4,3,"ion-button",9),e.\u0275\u0275template(19,Te,4,3,"ion-button",9),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("title","change_your_phone"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,7,"phone_number_title_verification")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,9,"phone_number_subtitle_verification")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",o.showCode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.showCode),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.showCode),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.showCode))},dependencies:[d.NgIf,g.DefaultValueAccessor,g.NgControlStatus,g.NgModel,c.IonButton,c.IonCol,c.IonContent,c.IonFooter,c.IonGrid,c.IonRow,I.C,p.X$],styles:[".group-tel[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:20pt 10pt 10pt}.group-tel[_ngcontent-%COMP%]   .iti__flag-container[_ngcontent-%COMP%]{background:#FFFFFF 0% 0% no-repeat padding-box!important;box-shadow:0 10px 99px #0000000d!important}.group-tel[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{font-size:1.8rem;width:80%;height:35pt;background:#FFFFFF 0% 0% no-repeat padding-box;box-shadow:0 10px 99px #0000000d;border:1px solid #E8E8E8;opacity:1}.container-code[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.container-code[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]{text-align:center}.container-code[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   .input-code[_ngcontent-%COMP%]{width:80%;height:5rem;box-shadow:0 10px 99px #0000000d;border:2px solid #E8E8E8;border-radius:10pt;background-color:var(--app-dark-or-not-color);min-height:3rem;max-height:50px;font-size:2rem;font-weight:700;text-align:center}"]}),n})();function Ae(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",t.notActualPasswordString,"")}}function Be(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",t.passwordLengthString,"")}}function Ne(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",t.passwordNotMatchingString,"")}}function Ve(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",t.passwordLengthString,"")}}function De(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",t.passwordNotMatchingString,"")}}const M=function(n){return{"error-input":n}};let Fe=(()=>{class n{constructor(t,o,i,s,l,m){this.modalCtrl=t,this.authService=o,this.translateService=i,this.toastService=s,this.accountStore=l,this.clubIdStorageService=m,this.oldPassword="",this.newPassword="",this.confirmPassword="",this.passwordLength=!1,this.passwordLengthString="",this.passwordNotMatching=!1,this.passwordNotMatchingString="",this.notActualPassword=!1,this.notActualPasswordString=""}ngOnInit(){}close(){this.modalCtrl.dismiss({refresh:!0}).then()}confirm(){var t=this;return(0,u.Z)(function*(){const o=yield t.clubIdStorageService.getClubId().then(i=>i);t.userMe=yield t.authService.getConnectedUser(o).toPromise(),yield t.accountStore.dispatch(T.X({data:t.userMe})),yield t.authService.checkPassword(t.oldPassword).subscribe(function(){var i=(0,u.Z)(function*(s){s.isPasswordValid?(t.notActualPassword=!1,t.newPassword===t.confirmPassword?(t.passwordNotMatching=!1,t.newPassword.length>7?(t.passwordLength=!1,yield t.authService.updateUser(t.userMe.id,{plainPassword:t.newPassword,password:t.newPassword}).subscribe(()=>{t.toastService.presentSuccess(t.translateService.instant("new_password_update_success"),"top"),t.close()},l=>{console.log(l)})):(t.passwordLength=!0,t.passwordLengthString=t.translateService.instant("password-length"))):(t.passwordNotMatching=!0,t.passwordNotMatchingString=t.translateService.instant("password-not-matching"))):(t.notActualPassword=!0,t.notActualPasswordString=t.translateService.instant("not-actual-password"))});return function(s){return i.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(c.ModalController),e.\u0275\u0275directiveInject(v.e),e.\u0275\u0275directiveInject(p.sK),e.\u0275\u0275directiveInject(y.k),e.\u0275\u0275directiveInject(f.yh),e.\u0275\u0275directiveInject(x.b))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-password"]],decls:42,vars:37,consts:[[3,"title","subtitle","back"],["no-padding",""],[1,"flex","do-p-2"],[1,"section-title"],[1,"title-stroke"],[1,"do-px-2"],[1,"form-group"],["type","password",1,"form-input",3,"ngClass","ngModel","placeholder","ngModelChange"],[1,"icon","ion-ios-telephone"],[4,"ngIf"],["mode","ios","expand","block","color","primary",1,"btn-next",3,"disabled","click"],[1,"do-p-2"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"app-default-header",0),e.\u0275\u0275listener("back",function(){return o.close()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"ion-content")(2,"ion-grid",1)(3,"ion-row")(4,"ion-col")(5,"div",2)(6,"div",3),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(10,"ion-row",5)(11,"ion-col",6)(12,"ion-input",7),e.\u0275\u0275listener("ngModelChange",function(s){return o.oldPassword=s}),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275element(14,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,Ae,2,1,"small",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"ion-row")(17,"ion-col")(18,"div",2)(19,"div",3),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"div",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"ion-row",5)(24,"ion-col",6)(25,"ion-input",7),e.\u0275\u0275listener("ngModelChange",function(s){return o.newPassword=s}),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275element(27,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(28,Be,2,1,"small",9),e.\u0275\u0275template(29,Ne,2,1,"small",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"ion-row",5)(31,"ion-col",6)(32,"ion-input",7),e.\u0275\u0275listener("ngModelChange",function(s){return o.confirmPassword=s}),e.\u0275\u0275pipe(33,"translate"),e.\u0275\u0275element(34,"i",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,Ve,2,1,"small",9),e.\u0275\u0275template(36,De,2,1,"small",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"ion-footer")(38,"ion-button",10),e.\u0275\u0275listener("click",function(){return o.confirm()}),e.\u0275\u0275elementStart(39,"div",11),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"translate"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("title","change_your_password"),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,19,"change_password_old")," "),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(13,21,"old_password")),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(31,M,o.notActualPassword))("ngModel",o.oldPassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.notActualPassword),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,23,"change_password_new")," "),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(26,25,"new_password")),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(33,M,o.passwordLength||o.passwordNotMatching))("ngModel",o.newPassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.passwordLength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.passwordNotMatching),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(33,27,"new_password_confirm")),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(35,M,o.passwordLength||o.passwordNotMatching))("ngModel",o.confirmPassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.passwordLength),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.passwordNotMatching),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",""==o.confirmPassword||""==o.newPassword||""==o.oldPassword),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(41,29,"update")," "))},dependencies:[d.NgClass,d.NgIf,g.NgControlStatus,g.NgModel,c.IonButton,c.IonCol,c.IonContent,c.IonFooter,c.IonGrid,c.IonInput,c.IonRow,c.TextValueAccessor,I.C,p.X$],styles:["ion-grid[_ngcontent-%COMP%], ion-col[_ngcontent-%COMP%]{padding:0}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-radius:.5rem;font-size:1.8rem;background:#FFFFFF 0% 0% no-repeat padding-box;border:1px solid #E8E8E8}small[_ngcontent-%COMP%]{color:red;font-size:85%}ion-input[_ngcontent-%COMP%]{--padding-start: 1rem}.error-input[_ngcontent-%COMP%]{border:1px solid red!important;border-radius:2px!important}"]}),n})(),je=(()=>{class n{constructor(t){this.modalCtrl=t}close(){this.modalCtrl.dismiss({refresh:!0}).then()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(c.ModalController))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-cgu"]],decls:2,vars:1,consts:[[3,"title","subtitle","back"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"app-default-header",0),e.\u0275\u0275listener("back",function(){return o.close()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(1,"ion-content")),2&t&&e.\u0275\u0275property("title","our_cgu")},dependencies:[c.IonContent,I.C]}),n})();var Le=a(11274),$e=a(32422),ze=a(76888);function Ue(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errorPhoneMessage," ")}}let Re=(()=>{class n{constructor(t,o,i,s){this.authService=t,this.nav=o,this.modalCtrl=i,this.toastService=s}ngOnInit(){}passwordChange(){}confirmPassword(){this.authService.checkPassword(this.password).pipe((0,h.b)(t=>{t.isPasswordValid?this.nav.navigateRoot("/home").then(()=>{this.modalCtrl.dismiss(),this.toastService.presentSuccess("account_deleted","top"),this.authService.logout()}):this.toastService.presentError("bad_password","top")})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.e),e.\u0275\u0275directiveInject(c.NavController),e.\u0275\u0275directiveInject(c.ModalController),e.\u0275\u0275directiveInject(y.k))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-password-modal"]],decls:16,vars:8,consts:[[1,"card-sign-in","top-element-bs"],[1,"label-delete-password"],[2,"width","100%"],["data-test","inputPassword","type","password","placeholder","******",1,"password-input",3,"ngModel","focusin","focusout","change","ngModelChange"],["class","error-message",4,"ngIf"],["data-test","confirmPassword","mode","ios","fill","solid","expand","block",1,"btn-next","btn-confirm-password",3,"click"],[1,"do-p-2"],[1,"error-message"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"p"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ion-grid",2)(6,"ion-row")(7,"ion-col")(8,"input",3),e.\u0275\u0275listener("focusin",function(){return o.isFocus=!0})("focusout",function(){return o.isFocus=!1})("change",function(){return o.passwordChange()})("ngModelChange",function(s){return o.password=s}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Ue,2,1,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-row")(11,"ion-col")(12,"ion-button",5),e.\u0275\u0275listener("click",function(){return o.confirmPassword()}),e.\u0275\u0275elementStart(13,"div",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,4,"enter_password")," "),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",o.password),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",""!=o.errorPhoneMessage),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,6,"validate")," "))},dependencies:[d.NgIf,g.DefaultValueAccessor,g.NgControlStatus,g.NgModel,c.IonButton,c.IonCol,c.IonGrid,c.IonRow,p.X$],styles:[".card-sign-in[_ngcontent-%COMP%]{width:100%;height:100%;padding:2rem;display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;bottom:0;border-radius:.9rem}.card-sign-in.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.card-sign-in.error[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:1rem;color:var(--ion-color-danger);font-weight:600;font-size:1.3rem}input.password-input[_ngcontent-%COMP%]{border-radius:.5rem;border:1px solid #adadad;font-size:2rem;font-weight:700;min-height:3rem;max-height:3rem;text-align:left;padding-left:1rem;display:block;width:100%}"]}),n})();var Xe=a(7625),Qe=a(8929),Ze=a(80529),Ge=a(43281);function Ke(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.goTo(i.component))}),e.\u0275\u0275elementStart(1,"ion-grid")(2,"ion-row")(3,"ion-col",13),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-col",14),e.\u0275\u0275element(7,"ion-icon",15),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,1,t.name)," ")}}function We(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ke,8,3,"div",11),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.show)}}function He(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",10),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,We,2,1,"ng-container",4),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,t.group)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.children)}}function Ye(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,He,5,4,"ng-container",0),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.show)}}function Je(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275template(1,Ye,2,1,"ng-container",4),e.\u0275\u0275elementStart(2,"div",5)(3,"ion-grid")(4,"ion-row")(5,"ion-col",6)(6,"div",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.logoutAction())}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"ion-col",8)(10,"div",7),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.deleteAccount())}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"ion-row")(14,"ion-col",9),e.\u0275\u0275element(15,"app-select-locale"),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,3,"logout")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,5,"delete_account")," ")}}function qe(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Je,16,7,"div",2),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isLoaded)}}function et(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",16)}function tt(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",16)}function nt(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",16)}function ot(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",16)}let it=(()=>{class n{constructor(t,o,i,s,l,m){this.http=t,this.modalCtrl=o,this.clubIdStorageService=i,this.environmentService=s,this.alertController=l,this.translate=m,this.logout=new e.EventEmitter,this.refreshData=new e.EventEmitter,this.dataUrl="assets/account-link.json",this.isLoaded=!1,this.ngUnsubscribe=new Qe.xQ,this.env=this.environmentService.getEnvFile()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngOnInit(){var t=this;return(0,u.Z)(function*(){t.clubId=yield t.clubIdStorageService.getClubId().then(o=>o),t.links$=t.http.get(t.dataUrl).pipe((0,Xe.R)(t.ngUnsubscribe),(0,h.b)(()=>t.isLoaded=!0),(0,h.b)(()=>console.log("isloaded")))})()}goTo(t){let o;switch(t){case"InformationsComponent":o=re.z;break;case"ActivitiesComponent":o=O.k;break;case"MyPreferencesComponent":o=ae.h;break;case"MyFriendsComponent":o=se.R;break;case"MyClubsComponent":o=ce.s;break;case"MySubscriptionsComponent":o=le.N;break;case"MyCreditsComponent":o=pe.p;break;case"MyConsumptionComponent":o=Le.P;break;case"MyWalletsComponent":o=ze.M,this.modalCtrl.create({component:o,cssClass:"my-component-open-class"}).then(i=>{i.present().then()});break;case"MyOperationsComponent":o=ge.L;break;case"MyBookingsComponent":o=de.s;break;case"MyMatchesComponent":o=ue.o;break;case"MyCoursesComponent":o=$e.H;break;case"MyEventsComponent":o=me.Q;break;case"MyPaymentTypeComponent":o=he.X;break;case"ParamsComponent":o=fe.L;break;case"CGUComponent":o=je;break;case"PasswordComponent":o=Fe;break;case"PhoneNumberComponent":o=Oe}"MyWalletsComponent"!==t&&this.modalCtrl.create({component:o,cssClass:"my-component-open-class",componentProps:{userId:this.userId}}).then(i=>{i.present().then(),i.onDidDismiss().then(s=>{void 0!==s.data&&s.data.refresh&&this.refreshData.emit(!0)})})}logoutAction(){this.logout.emit()}deleteAccount(){var t=this;return(0,u.Z)(function*(){yield(yield t.alertController.create({header:t.translate.instant("title_alert_booking"),message:t.translate.instant("message_alert_delete_account"),buttons:[{text:t.translate.instant("yes"),handler:()=>{t.modalCtrl.create({component:Re,cssClass:"password-modal",componentProps:{}}).then(i=>{i.present().then(),i.onDidDismiss().then(s=>{void 0!==s.data&&s.data.refresh&&t.refreshData.emit(!0)})})}},{text:t.translate.instant("no")}]})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(Ze.eN),e.\u0275\u0275directiveInject(c.ModalController),e.\u0275\u0275directiveInject(x.b),e.\u0275\u0275directiveInject(w.L),e.\u0275\u0275directiveInject(c.AlertController),e.\u0275\u0275directiveInject(p.sK))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-informations-account"]],inputs:{userId:"userId"},outputs:{logout:"logout",refreshData:"refreshData"},decls:6,vars:7,consts:[[4,"ngIf"],["class","card-my-booking-skeleton","style","height: 60px; width:92%; margin: auto; margin-top: 15px;",4,"ngIf"],["class","list",4,"ngIf"],[1,"list"],[4,"ngFor","ngForOf"],[1,"list-item"],["size","12",1,"logout"],[1,"t-center","cursor-tablet",3,"click"],["size","12",1,"delete-account"],["size","12"],[1,"list-group"],["class","list-item",3,"click",4,"ngIf"],[1,"list-item",3,"click"],["size","11"],["size","1"],["src","assets/icon/globals/arrow-back.svg",1,"icon-goto"],[1,"card-my-booking-skeleton",2,"height","60px","width","92%","margin","auto","margin-top","15px"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,qe,2,1,"ng-container",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275template(2,et,1,0,"ion-skeleton-text",1),e.\u0275\u0275template(3,tt,1,0,"ion-skeleton-text",1),e.\u0275\u0275template(4,nt,1,0,"ion-skeleton-text",1),e.\u0275\u0275template(5,ot,1,0,"ion-skeleton-text",1)),2&t&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,o.links$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.isLoaded))},dependencies:[d.NgForOf,d.NgIf,c.IonCol,c.IonGrid,c.IonIcon,c.IonRow,c.IonSkeletonText,Ge.U,d.AsyncPipe,p.X$],styles:[".list[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{background-color:#fff;color:var(--ion-secondary-text-color);padding:1rem 2rem;font-size:1.8rem;font-weight:600}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:2rem;border-bottom:1px solid rgba(0,0,0,.1);font-size:1.6rem;font-weight:700}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .icon-goto[_ngcontent-%COMP%]{color:#d3d3d3;transform:rotate(180deg)}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0!important}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0!important}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{color:var(--ion-color-primary);cursor:pointer}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .delete-account[_ngcontent-%COMP%]{margin-top:15px;color:var(--ion-color-danger);cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media only screen and (min-width: 768px){.cursor-tablet[_ngcontent-%COMP%]{cursor:pointer}}"]}),n})();function rt(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-profil-account",11),e.\u0275\u0275listener("refreshData",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.refreshLevels())}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("bookings",t.bookings)("nextBookings",t.nextBookings)("pastBookings",t.pastBookings)("userData",t.userData)}}function at(n,r){1&n&&e.\u0275\u0275element(0,"ion-skeleton-text",12)}function st(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-informations-account",13),e.\u0275\u0275listener("logout",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.logout())})("refreshData",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.refreshLevels())}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("userId",t.userData.id)}}function ct(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-content",4,5),e.\u0275\u0275element(3,"app-header-account",6),e.\u0275\u0275elementStart(4,"app-tabs-account",7),e.\u0275\u0275listener("changeTab",function(i){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.changeTab(i))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,rt,1,4,"app-profil-account",8),e.\u0275\u0275template(6,at,1,0,"ion-skeleton-text",9),e.\u0275\u0275template(7,st,1,1,"app-informations-account",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("scrollEvents",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("userData$",t.userData$),e.\u0275\u0275advance(1),e.\u0275\u0275property("userData",t.userData)("selectedView",t.selectedTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","PROFIL"==t.selectedTab),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","INFORMATIONS"==t.selectedTab)}}function lt(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",14)(2,"div",15),e.\u0275\u0275element(3,"ion-skeleton-text",16),e.\u0275\u0275elementStart(4,"div",17)(5,"ion-thumbnail",18),e.\u0275\u0275element(6,"ion-skeleton-text",19),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(7,"ion-skeleton-text",20)(8,"ion-skeleton-text",21)(9,"ion-skeleton-text",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd())}const dt=[{path:"",component:(()=>{class n{constructor(t,o,i,s,l,m,P,k,wt){this.authService=t,this.nav=o,this.accountService=i,this.route=s,this.bookingService=l,this.clubIdStorageService=m,this.clubStore=P,this.accountStore=k,this.environmentService=wt,this.userDataSub$=new _.X({}),this.userData$=this.userDataSub$.asObservable(),this.userData=null,this.refreshBooking=!1,this.isLoaded=!1,this.refreshLevelsViewSub$=new _.X(!1),this.refreshLevelsView$=this.refreshLevelsViewSub$.asObservable()}ionViewDidEnter(){var t=this;return(0,u.Z)(function*(){t.isLoaded=!1,t.selectedTab="PROFIL",t.route.snapshot.queryParams.view&&(t.selectedTab=t.route.snapshot.queryParams.view.toUpperCase()),t.clubId=yield t.clubIdStorageService.getClubId().then(o=>o),yield t.accountStore.select(E.t).pipe((0,h.b)(function(){var o=(0,u.Z)(function*(i){t.userMe=i,t.getDataUserClient(),t.userMe&&(yield t.clubStore.pipe((0,f.Ys)(N.oX),(0,h.b)(function(){var s=(0,u.Z)(function*(l){if(l&&l.id){t.club=l,t.nextBookings=[],t.pastBookings=[],t.bookings=[];const m="18c52639-e8e9-4f98-b2fa-9189d81fe5d1"===t.environmentService.getEnvFile().marqueBlanche.clubIds[0];t.nextBookings=yield t.bookingService.getMyBookings(t.club,!1,b.p.NEXT,5,t.clubId,t.userMe.id,"ASC",m).toPromise(),t.nextBookings=t.nextBookings["hydra:member"],t.pastBookings=yield t.bookingService.getMyBookings(t.club,!1,b.p.PAST,5,t.clubId,t.userMe.id,"DESC",m).toPromise(),t.pastBookings=t.pastBookings["hydra:member"],void 0!==t.nextBookings&&t.nextBookings.length?t.bookings=[...t.nextBookings]:void 0!==t.pastBookings&&t.pastBookings.length&&0===t.nextBookings.length&&(t.bookings=[...t.pastBookings]),t.bookings.sort((P,k)=>new Date(P.startAt).getTime()-new Date(k.startAt).getTime())}});return function(l){return s.apply(this,arguments)}}())).subscribe())});return function(i){return o.apply(this,arguments)}}())).subscribe()})()}getDataUserClient(){var t=this;return(0,u.Z)(function*(){t.userMe&&(yield t.accountService.getDataUserClient(t.userMe.id).pipe((0,h.b)(o=>{t.userData=o,t.userDataSub$.next(t.userData),t.isLoaded=!0})).subscribe())})()}changeTab(t){this.selectedTab=t}refreshLevels(){this.accountService.getDataUserClient(this.userData.id).pipe((0,A.q)(1),(0,B.h)(t=>void 0!==t),(0,h.b)(t=>this.userData=t),(0,h.b)(t=>this.userDataSub$.next(t))).subscribe()}logout(){var t=this;this.nav.navigateRoot("/home").then((0,u.Z)(function*(){t.authService.logout(),yield t.accountStore.dispatch(T.y(null))}))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(v.e),e.\u0275\u0275directiveInject(c.NavController),e.\u0275\u0275directiveInject(V.B),e.\u0275\u0275directiveInject(C.gz),e.\u0275\u0275directiveInject(D.q),e.\u0275\u0275directiveInject(x.b),e.\u0275\u0275directiveInject(f.yh),e.\u0275\u0275directiveInject(f.yh),e.\u0275\u0275directiveInject(w.L))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-account"]],decls:9,vars:5,consts:[[1,"header-account"],[1,"toolbar-account"],["slot","start"],[4,"ngIf"],[3,"scrollEvents"],["pageContent",""],[1,"header","dspl-blck",3,"userData$"],[1,"dspl-blck","z-index-2",3,"userData","selectedView","changeTab"],[3,"bookings","nextBookings","pastBookings","userData","refreshData",4,"ngIf"],["animated","","class","card-my-booking-skeleton","style","height: 120px; width:92%; margin: auto;",4,"ngIf"],[3,"userId","logout","refreshData",4,"ngIf"],[3,"bookings","nextBookings","pastBookings","userData","refreshData"],["animated","",1,"card-my-booking-skeleton",2,"height","120px","width","92%","margin","auto"],[3,"userId","logout","refreshData"],[1,"flex","d-col","jcc","loading-style"],[1,"pos-rel","do-mb-4"],["animated","",1,"profil-header-skeleton"],[1,"avatar-skeleton-container"],[1,"avatar-skeleton"],["animated","",2,"border-radius","50%"],["animated","",1,"levels-skeleton"],["animated","",1,"bookings-skeleton"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.\u0275\u0275element(3,"ion-menu-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,ct,8,7,"ng-container",3),e.\u0275\u0275template(8,lt,10,0,"ng-container",3)),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"my_account")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.userData&&o.isLoaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.userData&&!o.isLoaded))},dependencies:[d.NgIf,c.IonButtons,c.IonContent,c.IonHeader,c.IonMenuButton,c.IonSkeletonText,c.IonThumbnail,c.IonTitle,c.IonToolbar,F.a,j,ie,it,p.X$],styles:[".toolbar-background[_ngcontent-%COMP%]{background-color:#eaeaea!important;border-bottom:.5px solid rgba(129,129,129,.5)}.toolbar-account[_ngcontent-%COMP%]{background-color:#0000}ion-header.header-account[_ngcontent-%COMP%]{position:absolute;background-color:#0000;transition:all .4s linear}ion-header.header-account[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.8)}.profil-header-skeleton[_ngcontent-%COMP%]{height:15rem;width:100%}.avatar-skeleton-container[_ngcontent-%COMP%]{position:absolute;bottom:-4rem;z-index:99;width:100%;display:flex;justify-content:center}.avatar-skeleton[_ngcontent-%COMP%]{height:25vw;width:25vw}.levels-skeleton[_ngcontent-%COMP%]{height:8rem}.bookings-skeleton[_ngcontent-%COMP%]{height:20rem}@media only screen and (min-width: 768px){.loading-style[_ngcontent-%COMP%]{margin-top:15%;zoom:.75}}[_nghost-%COMP%]     app-profil-account app-matchs app-avatar-name ion-avatar{width:7vw!important;height:7vw!important}@media only screen and (min-width: 1100px){[_nghost-%COMP%]     app-profil-account app-matchs app-avatar-name ion-avatar{width:5vw!important;height:5vw!important}}@media only screen and (min-width: 1500px){[_nghost-%COMP%]     app-profil-account app-matchs app-avatar-name ion-avatar{width:4vw!important;height:4vw!important}}ion-content[_ngcontent-%COMP%]{--background: var(--background-gray) !important}"]}),n})()}];let pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.Bz.forChild(dt),C.Bz]}),n})();var mt=a(40353),ut=a(96521),gt=a(98582),ht=a(25202),ft=a(68947),_t=a(53623),vt=a(87977);let Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.CommonModule,g.FormsModule,c.IonicModule,_t.M,p.aw.forChild(),vt.V]}),n})();var bt=a(88794);let xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.CommonModule,g.FormsModule,c.IonicModule,pt,mt.s,ut.$,gt.d,ht.W,p.aw,ft.K,Ct,bt.q]}),n})()}}]);